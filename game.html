<html>

<!-- Canvas czyli płótno - pozwala dynamicznie rysować po swojej powierzchni -->
<canvas id="gameCanvas" width="800" height="600"></canvas>

<script>
    
    var canvas; 
    var canvasContext;
    
    var ballX = 400; // położenie początkowe piłeczki 
    var ballY = 400;
    
    var ballSpeedX = 10; // prędkość piłeczki w pxls
    var ballSpeedY = 5;
    
    var paddle1Y = 250;  // jena rakiera 
    
    const PADDLE_HEIGHT = 100;
    
    // funkcja poruszania palet myszą
    function calculateMousePos(evt) {
        var rect = canvas.getBoundingClientRect();
        var root = document.documentElement;
        var mouseX = evt.clientX - rect.left - root.scrollLeft;
        var mouseY = evt.clientY - rect.top - root.scrollTop;
        return {
            x:mouseX,
            y:mosueY
        }
    }
    
    // plansza gry
    window.onload = function() {       
        canvas = document.getElementById('gameCanvas'); // zlapanie id elementu z rozmirem planszy 
        canvasContext = canvas.getContext('2d'); // typ grafiki: 2d
        
        // wywołanie funkcji wypisującej elementy i ustalenie czasu zmiany ich położenia w (ms) 
        var framesPerSEcond = 30;   
        setInterval(function() {
            moveEverything();
            drawEverything();
        }, 1000/framesPerSEcond); 
    }
    
    // funkcja ruchu elementów - ruch piłeczki po planszy
    function moveEverything() {    
        ballX = ballX + ballSpeedX;
        ballY = ballY + ballSpeedY;
        
        if(ballX < 0) {
            ballSpeedX = -ballSpeedX;
        }     
        if(ballX >= canvas.width) {
            ballSpeedX = -ballSpeedX;
        }
        if(ballY < 0) {
            ballSpeedY = -ballSpeedY;
        }     
        if(ballY >= canvas.height) {
            ballSpeedY = -ballSpeedY;
        }
    }
    
    // funkcja wypisująca wszystkie elementy
    function drawEverything() {       
        console.log(ballX);  // wyświetli położenie piłeczki w consollogu
        
        colorRect(0,0,canvas.width,canvas.height, 'black'); // plansza
        colorRect(0,200,10,100, 'white'); //  lewa rakieta   
        colorCircle(ballX, ballY, 10, 'red'); // piłeczka 
    }
    
    // funkcja robienia okrągłej i kolorowej piłeczki 
    function colorCircle(cneterX, centerY, radius, drawColor) {
        canvasContext.fillStyle = drawColor;
        canvasContext.beginPath();
        canvasContext.arc(ballX, ballY, 10, 0, Math.PI*2, true);
        canvasContext.fill();
    }
    
    // funkcja ustalająca położenie elementów
    function colorRect(leftX, topY, width, height, drawColor) {
        canvasContext.fillStyle = drawColor; 
        canvasContext.fillRect(leftX, topY, width, height);     
    }
    
</script>

</html>